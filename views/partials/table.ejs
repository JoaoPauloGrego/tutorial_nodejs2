<table class="view-only-table">
  <thead>
    <tr>
      <th>ID</th>
      <th>Autor</th>
      <th>Título</th>
      <th>Conteúdo</th>
      <th>Data</th>
    </tr>
  </thead>
  <tbody>
    <% if (posts && posts.length > 0) { %>
      <% posts.forEach(post => { %>
        <tr>
          <td><%= post.id %></td>
          <td><%= post.username || post.iduser %></td>
          <td><%= post.title %></td>
          <td><%= post.content %></td>
          <td>
            <%
              try {
                const dateObj = new Date(post.datepost);
                if (isNaN(dateObj.getTime())) {
                  // Se a data for inválida, mostra mensagem
                  %><span style="color:red">Data inválida</span><%
                } else {
                  // Formata a data corretamente
                  %><%= dateObj.toLocaleDateString('pt-BR') %><%
                }
              } catch (e) {
                %><span style="color:red">Erro de data</span><%
              }
            %>
          </td>
        </tr>
      <% }); %>
    <% } else { %>
      <tr>
        <td colspan="5" class="no-posts">Nenhum post encontrado</td>
      </tr>
    <% } %>
  </tbody>
  <tfoot>
    <tr>
      <td colspan="5">
        Total de posts: <strong><%= posts ? posts.length : 0 %></strong>
      </td>
    </tr>
  </tfoot>
</table>

<style>
  .view-only-table {
    width: 100%;
    border-collapse: collapse;
    margin: 25px 0;
    font-size: 0.9em;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
    background-color: white;
  }

  .view-only-table th {
    background-color: #f8f9fa;
    color: #495057;
    text-align: left;
    font-weight: 600;
    padding: 12px 15px;
    border-bottom: 2px solid #e9ecef;
  }

  .view-only-table td {
    padding: 12px 15px;
    border-bottom: 1px solid #e9ecef;
    color: #495057;
  }

  .view-only-table tbody tr:hover {
    background-color: #f8f9fa;
  }

  .view-only-table tfoot {
    font-weight: 600;
    background-color: #f1f3f5;
  }

  .view-only-table tfoot td {
    padding: 10px 15px;
    border-top: 2px solid #dee2e6;
  }

  .no-posts {
    text-align: center;
    padding: 20px;
    color: #6c757d;
    font-style: italic;
  }

  @media (max-width: 768px) {
    .view-only-table {
      font-size: 0.8rem;
    }
    
    .view-only-table th,
    .view-only-table td {
      padding: 8px 10px;
    }
  }
</style>